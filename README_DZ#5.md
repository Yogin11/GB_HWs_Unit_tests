# ДЗ№5

# Задание 1

Представьте, что вы работаете над разработкой простого приложения для записной книжки, которое позволяет пользователям добавлять, редактировать и удалять контакты.

Ваша задача - придумать как можно больше различных тестов (юнит-тесты, интеграционные тесты, сквозные тесты) для этого приложения. Напишите название каждого теста, его тип и краткое описание того, что этот тест проверяет.

Создаем четыре класса:

- Contact - базовый класс с переменными id, Имя, Фамилия, телефон, и с геттерами и сеттерами
- Repository - cодержит в себе
    - список List<Contact>
    - метод List<Contact> getList()
    - метод void saveContact(Contact contact)
    - метод void updateContact(Contact contact)
    - метод void deleteContact(Contact contact)
    - метод Contact getContactById(int id)
- Service (объединенный с контроллером) -  принимает ссылку на Repository через конструктор, содержит
    - метод void addContactService()
    - метод void updateContactService(int id)
    - метод void deleteContactService(int id)
- UI - в конструкторе принимает ссылку на объект Service, содержит
    - метод void menu()
- Main - содержит метод main(String[] args)

1.1 Unit тесты:

1.1.1 void contactSuccessfullyCreated() - создание нового контакта, проверка через геттеры, что контакт создался корректно. 

1.2. Создание нового объекта Repository 

1.2.1 void saveContactTest() - проверка, что создаваемый контакт добавляется в список при вызове метода  saveContact(Contact contact) или что список не пустой.

1.2.2 void updateContactTest() - создаем контакт и добавляем в Repository. Создаем новый контакт с таким же id, но измененными переменными. Проверяем, что после запуска метода updateContact(Contact contact) с вторым контактом в качестве параметра, у контакта из репозитория данные совпадают с данными 2-го контакта.

1.2.3 void deleteContactTest()- создание контакта, добавление контакта в Repository. Запуск метода deleteContact(Contact contact), проверка, что контакта нет в списке.

1.2.4 void getContactByIdTest() - создание контакта, добавление контакта в Repository. Запуск метода и проверка, что id созданного контакта и контакта из репозитория совпадают.  

1.3. Создание заглушки mock(repository.class), создание нового объекта Service с заглушкой в качестве параметра

1.3.1. void addContactServiceTest() - создаем контакт, запускаем addContactService(). Проверяем, что метод заглушки saveContact(Contact contact) запустился 1 раз с правильным контактом.

1.3.2. void updateContactServiceTest() - создаем контакт, запускаем updateContactService(int id). Проверяем, что метод заглушки updateContact(Contact contact) запустился 1 раз с правильным контактом.

1.3.3. void deleteContactServiceTest() - создаем контакт, запускаем deleteContactService(int id)Проверяем, что метод заглушки deleteContact(Contact contact) запустился 1 раз с правильным контактом.

2. Интеграционные тесты

2.1 Создаем новые объекты Repository и Service (c Repository в конструкторе). Наполняем список репозитория произвольными контактами.

2.2 void integrationAddContactTest() - создание нового контакта, запуск метода addContactService(), проверка наличия в репозитории этого контакта 

2.3 void integrationUpdateContactTest() - с помощью сеттеров меняем данные какого-либо контакта из репозитория. Запускаем updateContactService(int id) с id контакта. Проверяем, что в репозитории контакт с измененными данными.

2.4 void integrationDeleteContactTest() - Запускаем deleteContactService(int id) с id любого из контактов. Проверяем, что в списке репозитория нет этого контакта. 

3. Сквозной тест

Создание объекта Repository, объекта Service, объекта UI

В System.setIn передаем поток, состоящий из выбора первого пункта меню(Add Contact), ввода данных контакта.

Вызов метода UI.menu()

Проверяем, что список репозитория содержит контакт с отправленными данными.

В System.setIn передаем поток, состоящий из выбора второго пункта меню(Update Contact), ввода id контакта.

Вызов метода UI.menu()

В System.setIn передаем поток, состоящий из ввода измененных данных контакта.

Вызов метода UI.menu()

Проверяем, что список репозитория содержит контакт с измененными данными.

В System.setIn передаем поток, состоящий из выбора третьего пункта меню(Delete Contact)

Вызов метода UI.menu()

Проверяем, что список репозитория пустой.

# Задание 2

Ниже список тестовых сценариев. Ваша задача - определить тип каждого теста (юнит-тест, интеграционный тест, сквозной тест) и объяснить, почему вы так решили.

- Проверка того, что функция addContact корректно добавляет новый контакт в список контактов".

-Это может быть юнит-тест, если функция не подразумевает обращение к разным модулям, а тест осуществляется в рамках одного модуля.

- "Проверка того, что при добавлении контакта через пользовательский интерфейс, контакт корректно отображается в списке контактов".

Это скорее всего интеграционный тест, т.к. затрагивает работу и front-end и back-end

- "Проверка полного цикла работы с контактом: создание контакта, его редактирование и последующее удаление".

Это сквозной тест, проверяющий весь функционал программы.